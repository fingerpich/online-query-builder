webpackJsonp([1],{135:function(e,t,r){"use strict";var n=r(3),o=r(224),a=r.n(o);t.a=n.default.component("operator-builder",{components:{FieldQuery:a.a},template:'\n    <div class="operator">\n      <div class="operatorScope" v-bind:class="{ \'has-sub-query\': hasSubQuery}">\n        <el-radio-group v-model="jsonData.operator" v-on:change="onChange" v-if="hasSubQuery">\n          <el-radio-button label="OR" key="OR"></el-radio-button>\n          <el-radio-button label="AND" key="AND"></el-radio-button>\n        </el-radio-group>\n        <el-checkbox-button v-model="jsonData.operator" v-on:change="onChange" v-else label="NOT" key="not" value="-"></el-checkbox-button>\n      </div>\n      <ul class="subQueries" v-if="hasSubQuery">\n        <li v-for="q in jsonData.subQueries">\n          <sub-operator-builder v-on:removeMe="removeSubquery" v-on:operatorChange="onChange" :json-data="q"></sub-operator-builder>\n        </li>\n        <li class="newItem">\n          <div class="operatorScope"></div>\n          <el-button v-on:click="addSubquery" type="text" class="addSubqueryButton" icon="plus"></el-button>\n        </li>\n      </ul>\n      <div class="aQuery" v-else>\n        <field-query v-on:change="onChange" :query="jsonData.query"></field-query>\n      </div>\n      <div class="addRemoveQuery" v-if="!hasSubQuery">\n        <el-button v-on:click="addSubquery" v-bind:disabled="!jsonData.query.operator" type="text" class="addButton" icon="share"></el-button>\n        <el-button v-on:click="removeMe" v-if="!jsonData.root" type="text" class="closeButton" icon="delete"></el-button>      \n      </div>\n    </div>\n  ',computed:{hasSubQuery:function(){return this.jsonData.subQueries&&this.jsonData.subQueries.length}},name:"sub-operator-builder",props:{jsonData:Object},data:function(){return{}},methods:{onChange:function(){this.$emit("operatorChange")},getQuery:function(){if(this.hasSubQuery){var e=[];for(var t in this.$children)e.push(this.$children[t].getQuery());return e.join(this.jsonData.operator),e}return this.jsonData.operator+this.jsonData.query.q},addSubquery:function(){this.hasSubQuery||(n.default.set(this.jsonData,"subQueries",[{operator:this.jsonData.operator,query:this.jsonData.query}]),n.default.set(this.jsonData,"operator","AND"),n.default.set(this.jsonData,"query","")),this.jsonData.subQueries.push({operator:"",query:{field:"",operator:"",input:""}})},removeMe:function(){this.hasSubQuery||this.$emit("removeMe",this.jsonData)},removeSubquery:function(e){var t=this.jsonData.subQueries.indexOf(e);if(2===this.jsonData.subQueries.length){var r=this.jsonData.subQueries[1-t];n.default.set(this.jsonData,"subQueries",r.subQueries),n.default.set(this.jsonData,"operator",r.operator),n.default.set(this.jsonData,"query",r.query)}else this.jsonData.subQueries.splice(t,1)}}})},136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(93),a=r.n(o),s=r(89),i=r(90),l=r.n(i),u=r(92),c=(r.n(u),r(91)),d=r.n(c);n.default.use(l.a,{locale:d.a}),n.default.config.productionTip=!1,new n.default({el:"#app",router:s.a,template:"<App/>",components:{App:a.a}})},137:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20);t.default={computed:{},name:"headMenu",methods:{},created:function(){n.a.getQueries().then(function(e){this.reports=e}.bind(this))},data:function(){return{reports:[]}}}},139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(88),o=r.n(n),a=r(20),s=r(87),i=r.n(s);t.default={components:{QueryBuilder:o.a,headMenu:i.a},name:"queryEditor",data:function(){return{}},created:function(){this.$route.params.id&&a.a.getAQuery(this.$route.params.id).then(function(){})}}},140:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(146),o=r.n(n),a=r(88),s=r.n(a),i=r(20),l=r(87),u=r.n(l);t.default={components:{QueryBuilder:s.a,headMenu:u.a},name:"queryEditor",methods:{editQuery:function(){this.$router.push({name:"edit",params:{id:this.$route.params.id}})},changePage:function(e){this.$router.push({name:"QueryResultPagination",params:{id:this.$route.params.id,page:e}})},mouseLeave:function(e){this.moreDetailHeader=this.clikedMoreDetailHeader,this.moreDetailBody=this.clickedMoreDetailBody},cellMouseClick:function(e,t,r,n){this.selectedCell&&(this.selectedCell.style.background=this.selectedCell.lastBack),this.clikedMoreDetailHeader=t.label,this.clickedMoreDetailBody=e[t.label],r.lastBack=r.style.background,r.style.background="#8af",this.selectedCell=r},cellMouseEnter:function(e,t,r,n){this.moreDetailHeader=t.label,this.moreDetailBody=e[t.label]},fetchQueryResult:function(){i.a.getQueryResult(this.$route.params.id,this.$route.params.page).then(function(e){e?e.list?(this.list=e.list,this.reportName=e.name,this.totalPages=10*e.totalPages,this.columns=o()(this.list[0]),this.reportQuery=e.query):e.error&&(this.error="loading problem"):this.error="loading problem"}.bind(this))}},watch:{$route:function(){this.list=null,this.fetchQueryResult()}},mounted:function(){this.fetchQueryResult()},data:function(){return{reportName:"",reportQuery:"",moreDetailBody:"",moreDetailHeader:"",error:"",totalPages:1e3,currentPage:this.$route.params.page,list:null,columns:[]}}}},141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(225),o=r.n(n),a=r(20),s=r(59);t.default={components:{SearchBuilder:o.a},computed:{sortQuery:function(){return s.a(this.query.sort.fields,this.query.sort.isAscending)}},name:"queryBuilder",methods:{save:function(){a.a.saveQuery(this.query).then(function(e){e&&(this.$router.push({name:"QueryResult",params:{id:e.data}}),a.a.getQueries(!0))}.bind(this))},onContentChange:function(e){this.changeSourceContent()},changeSourceContent:function(){a.a.changeSourceContent(this.query.source,this.query.source_content),this.loadFields(),this.query.sort_type="asc",this.query.sort_fields=[],this.query.groupBy=[],this.query.selected_fields=[],this.query.search={jsonQuery:{operator:"",query:{field:"",operator:"",input:""},root:!0},query:""}},onSourceChanged:function(e){var t=this,r=this.sources.filter(function(e){return e.value===t.query.source});r&&r[0]&&r[0].content&&(this.contents=r[0].content,this.query.source_content=this.contents[0].value)},loadFields:function(){a.a.getFields(this.query.source,this.query.source_content).then(function(e){this.fields=e}.bind(this)),a.a.getSortableFields(this.query.source,this.query.source_content).then(function(e){this.sortable_fields=e}.bind(this)),a.a.getGroupableFields(this.query.source,this.query.source_content).then(function(e){this.groupable_fields=e}.bind(this))}},created:function(){a.a.getSources().then(function(e){this.sources=e,this.query.source=e[0].value,this.contents=e[0].content,this.query.source_content=this.contents[0].value,this.loadFields()}.bind(this))},data:function(){return{contents:[],sources:[],query:{name:"",sort:{fields:[],isAscending:!0},groupBy:[],source:"",source_content:"",selected_fields:[],search:{jsonQuery:{operator:"",query:{field:"",operator:"",input:""},root:!0},query:""}},fields:[],sortable_fields:[],groupable_fields:[]}}}},142:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20);t.default={name:"fieldQuery",props:["query"],computed:{fieldOperators:function(){}},created:function(){n.a.getFields().then(function(e){this.fields=e}.bind(this))},data:function(){return{inputFrom:"",inputTo:"",matchInput:"",fields:[{label:"id",value:"id",type:"int"},{label:"content",value:"content",type:"string"},{label:"date",value:"date",type:"string"}],operators:[{label:"equal",value:"equal",types:"int,string,date"},{label:"greater than",value:"gt",types:"int,date"},{label:"less than",value:"lt",types:"int,date"},{label:"contain",value:"contain",types:"string"},{label:"between",value:"between",types:"int,date"}],selectedOperator:"",selectedField:""}},methods:{getFieldOperator:function(){var e=this.getFieldType();return this.operators.filter(function(t){return t.types.indexOf(e)>-1})},getFieldType:function(){if(this.fields){var e=this.fields.filter(function(e){return e.value===this.query.field}.bind(this));if(e&&e[0])return e[0].type}return""},fieldChanged:function(e){this.query.operator="",this.query.input="",this.onChange(e)},onChange:function(e){var t=this.getFieldType(),r="",n=this.query.operator,o=this.query.field,a=this.query.input;"lt"===n?r=o+" : [ * TO "+a+" ] ":"gt"===n?r=o+" : [ "+a+" TO * ] ":"between"===n?r=o+" : ["+this.inputFrom+" TO "+this.inputTo+"]":"contain"===n?r=o+" : *"+a+"*":"equal"===n&&(r=o+" : ",r+="string"===t?'"'+a+'"':a),this.query.q=r,this.$emit("change")}},events:{}}},143:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(135),o=r(59);t.default={components:{operatorBuilder:n.a},props:{initialData:Object},created:function(){},methods:{queryChanged:function(){this.initialData.query=o.b(this.initialData.jsonQuery)}},name:"searchBuilder",data:function(){return{}}}},20:function(e,t,r){"use strict";var n=r(147),o=r.n(n),a=r(150),s=r.n(a),i=r(151),l=r.n(i),u=r(116),c=r.n(u),d=function(){function e(){s()(this,e),this.errors=[],this.fields={},this.reports=null}return l()(e,[{key:"changeSourceContent",value:function(e,t){this.defaultSource=e,this.defaultContent=t}},{key:"getFields",value:function(e,t){return o.a.resolve([{key:"id",value:"id",name:"id",type:"int",groupable:!0,sortable:!0},{key:"name",value:"name",name:"name",type:"string",groupable:!0,sortable:!0},{key:"title",value:"title",name:"title",type:"string",groupable:!0,sortable:!1},{key:"content",value:"content",name:"content",type:"string",groupable:!0,sortable:!0},{key:"date",value:"date",name:"date",type:"date",groupable:!1,sortable:!1},{key:"likes",value:"likes",name:"likes",type:"int",groupable:!1,sortable:!0},{key:"score",value:"score",name:"score",type:"int",groupable:!1,sortable:!1}])}},{key:"getSortableFields",value:function(e,t){var r=this;return new o.a(function(n,o){r.getFields(e,t).then(function(e){n(e.filter(function(e){return e.sortable}))})})}},{key:"getGroupableFields",value:function(e,t){var r=this;return new o.a(function(n,o){r.getFields(e,t).then(function(e){n(e.filter(function(e){return e.groupable}))})})}},{key:"getQueries",value:function(e){return o.a.resolve([{id:1,name:"importants"},{id:2,name:"related with"},{id:3,name:"conservatives"},{id:4,name:"today"},{id:5,name:"important in last month"}])}},{key:"getQuery",value:function(e){return o.a.resolve({report_name:"popularity",sort_type:"asc",sort_fields:["likes"],groupBy:["date"],source:"source2",source_content:"post",selected_fields:[],search:{jsonQuery:{operator:"AND",query:"",root:!0,subQueries:[{operator:"OR",query:"",subQueries:[{operator:"",query:{field:"content",operator:"contain",input:"mojtaba",q:"content : *mojtaba*"}},{operator:"",query:{field:"content",operator:"contain",input:"fingerpich",q:"content : *fingerpich*"}}]},{operator:"",query:{field:"likes",operator:"gt",input:"20",q:"likes : [ 20 TO * ] "}}]},query:" (  ( content : *mojtaba* OR content : *fingerpich* )  AND likes : [ 20 TO * ]  ) "}})}},{key:"getQueryResult",value:function(e,t){var r=[{name:"ascasc",content:"wvew vewr rcasc",category:"csvdcsv",tag:"csvdcsv",keyword:"cwvwv",title:"rcwvew cwvwv",published_date:"1/2/1392",google_score:5352321,alexa_score:3353352},{name:"vewrvw",content:"ewer werc cwrvw",category:"wswdwsw",tag:"wswdwsw",keyword:"wewew",title:"cwewer wewew",published_date:"2/4/1392",google_score:3532525,alexa_score:5538532},{name:"wercwe",content:"vjhn jhni ircwe",category:"svjcsvj",tag:"svjcsvj",keyword:"rvjvj",title:"irvjhn rvjvj",published_date:"2/7/1392",google_score:2421415,alexa_score:4426421},{name:"jhnijv",content:"fokj okjs snijv",category:"swowswo",tag:"swowswo",keyword:"nfofo",title:"snfokj nfofo",published_date:"1/5/1392",google_score:2321315,alexa_score:5635321},{name:"okjsdf",content:"vmen menr rjsdf",category:"sjmrsjm",tag:"sjmrsjm",keyword:"jvmvm",title:"rjvmen jvmvm",published_date:"8/3/1392",google_score:7871815,alexa_score:3653871},{name:"menrbv",content:"rbvmen me enrbv",category:"sobnsob",tag:"sobnsob",keyword:"nrbrb",title:"enrbvmenrbrb",published_date:"3/9/1392",google_score:5651615,alexa_score:2642651},{name:"wercwe",content:"vjhn jhni ircwe",category:"svjcsvj",tag:"svjcsvj",keyword:"rvjvj",title:"irvjhn rvjvj",published_date:"2/7/1392",google_score:2421415,alexa_score:4426421},{name:"jhnijv",content:"fokj okjs snijv",category:"swowswo",tag:"swowswo",keyword:"nfofo",title:"snfokj nfofo",published_date:"1/5/1392",google_score:2321315,alexa_score:5635321},{name:"okjsdf",content:"vmen menr rjsdf",category:"sjmrsjm",tag:"sjmrsjm",keyword:"jvmvm",title:"rjvmen jvmvm",published_date:"8/3/1392",google_score:7871815,alexa_score:3653871},{name:"menrbv",content:"rbvmen me enrbv",category:"sobnsob",tag:"sobnsob",keyword:"nrbrb",title:"enrbvmenrbrb",published_date:"3/9/1392",google_score:5651615,alexa_score:2642651},{name:"wercwe",content:"vjhn jhni ircwe",category:"svjcsvj",tag:"svjcsvj",keyword:"rvjvj",title:"irvjhn rvjvj",published_date:"2/7/1392",google_score:2421415,alexa_score:4426421},{name:"jhnijv",content:"fokj okjs snijv",category:"swowswo",tag:"swowswo",keyword:"nfofo",title:"snfokj nfofo",published_date:"1/5/1392",google_score:2321315,alexa_score:5635321},{name:"okjsdf",content:"vmen menr rjsdf",category:"sjmrsjm",tag:"sjmrsjm",keyword:"jvmvm",title:"rjvmen jvmvm",published_date:"8/3/1392",google_score:7871815,alexa_score:3653871},{name:"okjsdf",content:"vmen menr rjsdf",category:"sjmrsjm",tag:"sjmrsjm",keyword:"jvmvm",title:"rjvmen jvmvm",published_date:"8/3/1392",google_score:7871815,alexa_score:3653871},{name:"menrbv",content:"rbvmen me enrbv",category:"sobnsob",tag:"sobnsob",keyword:"nrbrb",title:"enrbvmenrbrb",published_date:"3/9/1392",google_score:5651615,alexa_score:2642651},{name:"wercwe",content:"vjhn jhni ircwe",category:"svjcsvj",tag:"svjcsvj",keyword:"rvjvj",title:"irvjhn rvjvj",published_date:"2/7/1392",google_score:2421415,alexa_score:4426421},{name:"jhnijv",content:"fokj okjs snijv",category:"swowswo",tag:"swowswo",keyword:"nfofo",title:"snfokj nfofo",published_date:"1/5/1392",google_score:2321315,alexa_score:5635321},{name:"okjsdf",content:"vmen menr rjsdf",category:"sjmrsjm",tag:"sjmrsjm",keyword:"jvmvm",title:"rjvmen jvmvm",published_date:"8/3/1392",google_score:7871815,alexa_score:3653871},{name:"menrbv",content:"rbvmen me enrbv",category:"sobnsob",tag:"sobnsob",keyword:"nrbrb",title:"enrbvmenrbrb",published_date:"3/9/1392",google_score:5651615,alexa_score:2642651},{name:"wercwe",content:"vjhn jhni ircwe",category:"svjcsvj",tag:"svjcsvj",keyword:"rvjvj",title:"irvjhn rvjvj",published_date:"2/7/1392",google_score:2421415,alexa_score:4426421},{name:"jhnijv",content:"fokj okjs snijv",category:"swowswo",tag:"swowswo",keyword:"nfofo",title:"snfokj nfofo",published_date:"1/5/1392",google_score:2321315,alexa_score:5635321},{name:"okjsdf",content:"vmen menr rjsdf",category:"sjmrsjm",tag:"sjmrsjm",keyword:"jvmvm",title:"rjvmen jvmvm",published_date:"8/3/1392",google_score:7871815,alexa_score:3653871},{name:"menrbv",content:"rbvmen me enrbv",category:"sobnsob",tag:"sobnsob",keyword:"nrbrb",title:"enrbvmenrbrb",published_date:"3/9/1392",google_score:5651615,alexa_score:2642651},{name:"wercwe",content:"vjhn jhni ircwe",category:"svjcsvj",tag:"svjcsvj",keyword:"rvjvj",title:"irvjhn rvjvj",published_date:"2/7/1392",google_score:2421415,alexa_score:4426421},{name:"jhnijv",content:"fokj okjs snijv",category:"swowswo",tag:"swowswo",keyword:"nfofo",title:"snfokj nfofo",published_date:"1/5/1392",google_score:2321315,alexa_score:5635321}];return o.a.resolve({query:"title : *fingerpich*",name:"fingerpich",list:r.filter(function(e){return Math.random()>.5}).slice(0,10),totalPages:220})}},{key:"getSources",value:function(){return o.a.resolve([{label:"source1",value:"source1",content:[{label:"document",value:"document"}]},{label:"source2",value:"source2",content:[{label:"page",value:"page"},{label:"user",value:"user"},{label:"post",value:"post"},{label:"comment",value:"comment"},{label:"group",value:"group"}]}])}},{key:"saveQuery",value:function(e){var t=this;return console.log(e),c.a.post("api/save",e).then(function(e){return console.log(e),e}).catch(function(e){t.errors.push(e)})}}]),e}(),v=new d;t.a=v},212:function(e,t){},213:function(e,t){},214:function(e,t){},215:function(e,t){},216:function(e,t){},217:function(e,t){},218:function(e,t){},222:function(e,t,r){function n(e){r(215)}var o=r(15)(r(139),r(229),n,"data-v-560dfd08",null);e.exports=o.exports},223:function(e,t,r){function n(e){r(212)}var o=r(15)(r(140),r(226),n,null,null);e.exports=o.exports},224:function(e,t,r){function n(e){r(213)}var o=r(15)(r(142),r(227),n,"data-v-105255c8",null);e.exports=o.exports},225:function(e,t,r){function n(e){r(214)}var o=r(15)(r(143),r(228),n,null,null);e.exports=o.exports},226:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"queryResult"},[r("head-menu",[r("a",{staticClass:"editQuery",attrs:{href:"#/edit/"+e.$route.params.id}},[e._v("Edit Query")])]),e._v(" "),r("div",{staticClass:"queryContainer"},[r("h3",[e._v(e._s(e.reportName))]),e._v(" "),r("div",{staticClass:"reportQuery"},[e._v("\n      "+e._s(e.reportQuery)+"\n    ")]),e._v(" "),e.list?r("div",[r("div",{on:{mouseleave:e.mouseLeave}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"",stripe:""},on:{"cell-mouse-enter":e.cellMouseEnter,"cell-click":e.cellMouseClick}},e._l(e.columns,function(e){return r("el-table-column",{attrs:{prop:e,label:e}})}))],1),e._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.currentPage,total:e.totalPages},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.changePage}})],1),e._v(" "),r("div",{staticClass:"moreDetail"},[r("h4",[e._v(e._s(e.moreDetailHeader))]),e._v(" "),r("p",[e._v(e._s(e.moreDetailBody))])])]):r("div",{staticClass:"tabl"},[e.error?r("div",[e._v("\n        "+e._s(e.error)+"\n      ")]):r("div",[e._v("loading")])])])],1)},staticRenderFns:[]}},227:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fieldOfQuery"},[r("el-select",{attrs:{clearable:"",placeholder:"Field"},on:{change:e.fieldChanged},model:{value:e.query.field,callback:function(t){e.$set(e.query,"field",t)},expression:"query.field"}},e._l(e.fields,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),r("el-select",{attrs:{disabled:!e.query.field,clearable:"",placeholder:"Operator"},on:{change:e.onChange},model:{value:e.query.operator,callback:function(t){e.$set(e.query,"operator",t)},expression:"query.operator"}},e._l(e.getFieldOperator(),function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),"between"!=e.query.operator?r("span",[r("el-input",{attrs:{disabled:!e.query.field||!e.query.operator,placeholder:"match"},on:{change:e.onChange},model:{value:e.query.input,callback:function(t){e.$set(e.query,"input",t)},expression:"query.input"}})],1):r("span",[r("el-input",{attrs:{disabled:!e.query.field,placeholder:"match"},on:{change:e.onChange},model:{value:e.inputFrom,callback:function(t){e.inputFrom=t},expression:"inputFrom"}}),e._v(" "),r("el-input",{attrs:{disabled:!e.query.field,placeholder:"match"},on:{change:e.onChange},model:{value:e.inputTo,callback:function(t){e.inputTo=t},expression:"inputTo"}})],1)],1)},staticRenderFns:[]}},228:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"operatorGenerator"},[r("operator-builder",{attrs:{"json-data":e.initialData.jsonQuery},on:{operatorChange:e.queryChanged}})],1),e._v(" "),r("div",{staticClass:"generatedQuery"},[e._v("\n    "+e._s(this.initialData.query)+"\n  ")])])},staticRenderFns:[]}},229:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("head-menu"),e._v(" "),r("query-builder")],1)},staticRenderFns:[]}},230:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"queryBuilder"},[r("div",{staticClass:"level"},[r("h4",[e._v("Select Data Source")]),e._v(" "),r("div",[r("el-select",{attrs:{placeholder:"Select a source"},on:{change:e.onSourceChanged},model:{value:e.query.source,callback:function(t){e.$set(e.query,"source",t)},expression:"query.source"}},e._l(e.sources,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("div",{staticStyle:{margin:"20px"}}),e._v(" "),r("div",[r("el-select",{attrs:{placeholder:"source content"},on:{change:e.onContentChange},model:{value:e.query.source_content,callback:function(t){e.$set(e.query,"source_content",t)},expression:"query.source_content"}},e._l(e.contents,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),r("div",{staticClass:"level"},[r("h4",[e._v("Search Query")]),e._v(" "),r("search-builder",{attrs:{initialData:e.query.search}})],1),e._v(" "),r("div",{staticClass:"level sort"},[r("h4",[e._v("Sort")]),e._v(" "),r("div",[r("el-switch",{staticClass:"sortSwitch",attrs:{"on-color":"#13ce66","on-text":"▽","off-text":"△","off-color":"#ff4949"},model:{value:e.query.sort.isAscending,callback:function(t){e.$set(e.query.sort,"isAscending",t)},expression:"query.sort.isAscending"}}),e._v(" "),r("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.query.sort.fields,callback:function(t){e.$set(e.query.sort,"fields",t)},expression:"query.sort.fields"}},e._l(e.sortable_fields,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),e.query.sort.fields.length?r("div",{staticClass:"generatedQuery"},[e._v("\n      "+e._s(this.sortQuery)+"\n    ")]):e._e()]),e._v(" "),r("div",{staticClass:"level group"},[r("h4",[e._v("Group")]),e._v(" "),r("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.query.groupBy,callback:function(t){e.$set(e.query,"groupBy",t)},expression:"query.groupBy"}},e._l(e.groupable_fields,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("div",{staticClass:"level"},[r("el-transfer",{attrs:{titles:["all fields","output fields"],data:e.fields},model:{value:e.query.selected_fields,callback:function(t){e.$set(e.query,"selected_fields",t)},expression:"query.selected_fields"}})],1),e._v(" "),r("div",{staticClass:"save-query-container"},[r("div",{staticStyle:{padding:"20px"}}),e._v(" "),r("el-input",{staticStyle:{width:"initial"},attrs:{placeholder:"query name"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("Save")])],1)])},staticRenderFns:[]}},231:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},staticRenderFns:[]}},232:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-menu",{staticClass:"el-menu-demo",attrs:{theme:"dark",mode:"horizontal"}},[r("el-menu-item",{attrs:{index:"1"}},[r("a",{attrs:{href:"#/"}},[e._v("Solr Query builder")])]),e._v(" "),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[e._v("Queries")]),e._v(" "),e._l(e.reports,function(t){return r("el-menu-item",{key:t.id,attrs:{index:"2-1"}},[r("a",{attrs:{href:"#load/"+t.id}},[e._v(e._s(t.name))])])})],2),e._v(" "),r("el-menu-item",{attrs:{index:"3"}},[r("a",{attrs:{href:"#/new"}},[e._v("New+")])]),e._v(" "),r("el-menu-item",{attrs:{index:"4"}},[e._t("default")],2)],1)],1)},staticRenderFns:[]}},59:function(e,t,r){"use strict";function n(e){return e.subQueries?" ( "+e.subQueries.map(function(e){return n(e)}).join(" "+e.operator+" ")+" ) ":(!0===e.operator?"-":"")+e.query.q}function o(e){return n(e)}function a(e,t){return"sort = "+e.join(",")+" "+(t?"asc":"desc")}t.b=o,t.a=a},87:function(e,t,r){function n(e){r(218)}var o=r(15)(r(138),r(232),n,"data-v-ec331870",null);e.exports=o.exports},88:function(e,t,r){function n(e){r(216)}var o=r(15)(r(141),r(230),n,null,null);e.exports=o.exports},89:function(e,t,r){"use strict";var n=r(3),o=r(233),a=r(222),s=r.n(a),i=r(223),l=r.n(i);n.default.use(o.a),t.a=new o.a({routes:[{path:"",name:"QueryEditor",component:s.a},{path:"/new",name:"QueryEditor",component:s.a},{path:"/edit/:id",name:"editQuery",component:s.a},{path:"/load/:id",name:"QueryResult",component:l.a},{path:"/load/:id/:page",name:"QueryResultPagination",component:l.a}]})},92:function(e,t){},93:function(e,t,r){function n(e){r(217)}var o=r(15)(r(137),r(231),n,null,null);e.exports=o.exports}},[136]);
//# sourceMappingURL=app.64a03a7d467e0e4d7a41.js.map